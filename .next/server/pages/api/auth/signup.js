"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/auth/signup";
exports.ids = ["pages/api/auth/signup"];
exports.modules = {

/***/ "mongodb":
/*!**************************!*\
  !*** external "mongodb" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("mongodb");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2Fsignup&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cauth%5Csignup.js&middlewareConfigBase64=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2Fsignup&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cauth%5Csignup.js&middlewareConfigBase64=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_auth_signup_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src\\pages\\api\\auth\\signup.js */ \"(api)/./src/pages/api/auth/signup.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_auth_signup_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_auth_signup_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/auth/signup\",\n        pathname: \"/api/auth/signup\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _src_pages_api_auth_signup_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmF1dGglMkZzaWdudXAmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZzcmMlNUNwYWdlcyU1Q2FwaSU1Q2F1dGglNUNzaWdudXAuanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDK0Q7QUFDL0Q7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLDBEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQywwREFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zaWdudXBmb3JtLz8yYjUzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9zcmNcXFxccGFnZXNcXFxcYXBpXFxcXGF1dGhcXFxcc2lnbnVwLmpzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYXV0aC9zaWdudXBcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hdXRoL3NpZ251cFwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2Fsignup&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cauth%5Csignup.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./src/pages/api/auth/signup.js":
/*!**************************************!*\
  !*** ./src/pages/api/auth/signup.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _pages_services_signup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/pages/services/signup */ \"(api)/./src/pages/services/signup.js\");\n/* harmony import */ var _pages_services_signup__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_pages_services_signup__WEBPACK_IMPORTED_MODULE_0__);\n\n/* POST /api/auth/signup */ async function handler(req, res) {\n    try {\n        const { email, password, confirmacaoPassword, nomeUsuario, fotoUrl, receitasFav } = req.body;\n        if (req.method === \"POST\") {\n            const checkEmail1 = await (0,_pages_services_signup__WEBPACK_IMPORTED_MODULE_0__.checkEmailSignUp)(email);\n            if (checkEmail1 === null) {\n                if ((0,_pages_services_signup__WEBPACK_IMPORTED_MODULE_0__.checkPassword)(password, confirmacaoPassword)) {\n                    await (0,_pages_services_signup__WEBPACK_IMPORTED_MODULE_0__.createUser)(email, password);\n                    const id = await (0,_pages_services_signup__WEBPACK_IMPORTED_MODULE_0__.getId)(email);\n                    return res.status(201).json({\n                        \"message\": \"Utilizador Criado com Sucesso!\",\n                        \"_id\": id\n                    });\n                }\n                return res.status(400).json({\n                    message: \"Os dados introduzidos n\\xe3o s\\xe3o v\\xe1lidos.\",\n                    error: \"As passwords n\\xe3o coincidem.\"\n                });\n            }\n            return res.status(400).json({\n                message: \"Os dados introduzidos n\\xe3o s\\xe3o v\\xe1lidos.\",\n                error: \"O endere\\xe7o introduzido j\\xe1 est\\xe1 registado.\"\n            });\n        }\n        return res.status(400).json({\n            message: \"Os dados introduzidos n\\xe3o s\\xe3o v\\xe1lidos.\",\n            errors: {\n                \"email\": \"O endere\\xe7o introduzido j\\xe1 est\\xe1 registado.\",\n                \"confirmacaoPassword\": \"As passwords n\\xe3o coincidem.\"\n            }\n        });\n    } catch (err) {\n        console.log(err);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL2F1dGgvc2lnbnVwLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF5RztBQUV6Ryx5QkFBeUIsR0FDVixlQUFlSyxRQUFRQyxHQUFHLEVBQUVDLEdBQUc7SUFDMUMsSUFBSTtRQUNBLE1BQU0sRUFBRUMsS0FBSyxFQUFFQyxRQUFRLEVBQUVDLG1CQUFtQixFQUFHQyxXQUFXLEVBQUdDLE9BQU8sRUFBR0MsV0FBVyxFQUFDLEdBQUdQLElBQUlRLElBQUk7UUFFOUYsSUFBSVIsSUFBSVMsTUFBTSxLQUFLLFFBQVE7WUFDdkIsTUFBTUMsY0FBYyxNQUFNZix3RUFBZ0JBLENBQUNPO1lBQzNDLElBQUlRLGdCQUFnQixNQUFNO2dCQUN0QixJQUFJZCxxRUFBYUEsQ0FBQ08sVUFBVUMsc0JBQXNCO29CQUM5QyxNQUFNUCxrRUFBVUEsQ0FBQ0ssT0FBT0M7b0JBRXhCLE1BQU1RLEtBQUssTUFBTWIsNkRBQUtBLENBQUNJO29CQUN2QixPQUFPRCxJQUFJVyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO3dCQUN4QixXQUFXO3dCQUNYLE9BQU9GO29CQUNYO2dCQUNKO2dCQUFFLE9BQU9WLElBQUlXLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7b0JBQzFCQyxTQUFTO29CQUNUQyxPQUFPO2dCQUNYO1lBRUo7WUFDQSxPQUFPZCxJQUFJVyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUN4QkMsU0FBUztnQkFDVEMsT0FBTztZQUNYO1FBQ0o7UUFBRSxPQUFPZCxJQUFJVyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQzFCQyxTQUFTO1lBQ1RFLFFBQVE7Z0JBQ0osU0FBUztnQkFDVCx1QkFBdUI7WUFDM0I7UUFDSjtJQUNKLEVBQUUsT0FBT0MsS0FBSztRQUNWQyxRQUFRQyxHQUFHLENBQUNGO0lBQ2hCO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zaWdudXBmb3JtLy4vc3JjL3BhZ2VzL2FwaS9hdXRoL3NpZ251cC5qcz8zODI0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNoZWNrRW1haWwsIGNoZWNrRW1haWxTaWduVXAsIGNoZWNrUGFzc3dvcmQsIGNyZWF0ZVVzZXIsIGdldElkIH0gZnJvbSBcIkAvcGFnZXMvc2VydmljZXMvc2lnbnVwXCI7XHJcblxyXG4vKiBQT1NUIC9hcGkvYXV0aC9zaWdudXAgKi9cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCwgY29uZmlybWFjYW9QYXNzd29yZCAsIG5vbWVVc3VhcmlvICwgZm90b1VybCAsIHJlY2VpdGFzRmF2fSA9IHJlcS5ib2R5XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHJlcS5tZXRob2QgPT09IFwiUE9TVFwiKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrRW1haWwxID0gYXdhaXQgY2hlY2tFbWFpbFNpZ25VcChlbWFpbClcclxuICAgICAgICAgICAgaWYgKGNoZWNrRW1haWwxID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tQYXNzd29yZChwYXNzd29yZCwgY29uZmlybWFjYW9QYXNzd29yZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBjcmVhdGVVc2VyKGVtYWlsLCBwYXNzd29yZClcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaWQgPSBhd2FpdCBnZXRJZChlbWFpbClcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIm1lc3NhZ2VcIjogXCJVdGlsaXphZG9yIENyaWFkbyBjb20gU3VjZXNzbyFcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJfaWRcIjogaWRcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9zIGRhZG9zIGludHJvZHV6aWRvcyBuw6NvIHPDo28gdsOhbGlkb3MuXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IFwiQXMgcGFzc3dvcmRzIG7Do28gY29pbmNpZGVtLlwiXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT3MgZGFkb3MgaW50cm9kdXppZG9zIG7Do28gc8OjbyB2w6FsaWRvcy5cIixcclxuICAgICAgICAgICAgICAgIGVycm9yOiBcIk8gZW5kZXJlw6dvIGludHJvZHV6aWRvIGrDoSBlc3TDoSByZWdpc3RhZG8uXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgICAgICBtZXNzYWdlOiBcIk9zIGRhZG9zIGludHJvZHV6aWRvcyBuw6NvIHPDo28gdsOhbGlkb3MuXCIsXHJcbiAgICAgICAgICAgIGVycm9yczoge1xyXG4gICAgICAgICAgICAgICAgXCJlbWFpbFwiOiBcIk8gZW5kZXJlw6dvIGludHJvZHV6aWRvIGrDoSBlc3TDoSByZWdpc3RhZG8uXCIsXHJcbiAgICAgICAgICAgICAgICBcImNvbmZpcm1hY2FvUGFzc3dvcmRcIjogXCJBcyBwYXNzd29yZHMgbsOjbyBjb2luY2lkZW0uXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICB9XHJcbn0iXSwibmFtZXMiOlsiY2hlY2tFbWFpbCIsImNoZWNrRW1haWxTaWduVXAiLCJjaGVja1Bhc3N3b3JkIiwiY3JlYXRlVXNlciIsImdldElkIiwiaGFuZGxlciIsInJlcSIsInJlcyIsImVtYWlsIiwicGFzc3dvcmQiLCJjb25maXJtYWNhb1Bhc3N3b3JkIiwibm9tZVVzdWFyaW8iLCJmb3RvVXJsIiwicmVjZWl0YXNGYXYiLCJib2R5IiwibWV0aG9kIiwiY2hlY2tFbWFpbDEiLCJpZCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiZXJyb3IiLCJlcnJvcnMiLCJlcnIiLCJjb25zb2xlIiwibG9nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/auth/signup.js\n");

/***/ }),

/***/ "(api)/./src/pages/data/mongodb.js":
/*!***********************************!*\
  !*** ./src/pages/data/mongodb.js ***!
  \***********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst { MongoClient } = __webpack_require__(/*! mongodb */ \"mongodb\");\nconst DEFAULT_DB_NAME = \"foodies\";\nconst URL = process.env.MONGO_URL ?? \"mongodb+srv://admin:sJ.j22aZehDM8fn@cluster0.xwyynv9.mongodb.net/?retryWrites=true&w=majority&appName=Cluster0\";\nconst PORT = process.env.PORT || 3000;\nlet client;\nasync function connectToMongo() {\n    try {\n        if (!client) {\n            client = await MongoClient.connect(URL);\n        }\n        return client;\n    } catch (err) {\n        console.log(err);\n    }\n}\nasync function getMongoCollection(collectionName, dbName = DEFAULT_DB_NAME) {\n    const client = await connectToMongo();\n    return client.db(dbName).collection(collectionName);\n}\nmodule.exports = {\n    getMongoCollection\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvZGF0YS9tb25nb2RiLmpzIiwibWFwcGluZ3MiOiI7QUFBQSxNQUFNLEVBQUVBLFdBQVcsRUFBRSxHQUFHQyxtQkFBT0EsQ0FBQztBQUVoQyxNQUFNQyxrQkFBa0I7QUFDeEIsTUFBTUMsTUFBTUMsUUFBUUMsR0FBRyxDQUFDQyxTQUFTLElBQUk7QUFDckMsTUFBTUMsT0FBT0gsUUFBUUMsR0FBRyxDQUFDRSxJQUFJLElBQUk7QUFFakMsSUFBSUM7QUFDSixlQUFlQztJQUNiLElBQUk7UUFDRixJQUFJLENBQUNELFFBQVE7WUFFWEEsU0FBUyxNQUFNUixZQUFZVSxPQUFPLENBQUNQO1FBQ3JDO1FBRUEsT0FBT0s7SUFDVCxFQUFFLE9BQU9HLEtBQUs7UUFDWkMsUUFBUUMsR0FBRyxDQUFDRjtJQUNkO0FBQ0Y7QUFFQSxlQUFlRyxtQkFBbUJDLGNBQWMsRUFBRUMsU0FBU2QsZUFBZTtJQUN4RSxNQUFNTSxTQUFTLE1BQU1DO0lBQ3JCLE9BQU9ELE9BQU9TLEVBQUUsQ0FBQ0QsUUFBUUUsVUFBVSxDQUFDSDtBQUN0QztBQUVBSSxPQUFPQyxPQUFPLEdBQUc7SUFBRU47QUFBbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zaWdudXBmb3JtLy4vc3JjL3BhZ2VzL2RhdGEvbW9uZ29kYi5qcz9kM2ZmIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgTW9uZ29DbGllbnQgfSA9IHJlcXVpcmUoJ21vbmdvZGInKVxyXG5cclxuY29uc3QgREVGQVVMVF9EQl9OQU1FID0gXCJmb29kaWVzXCJcclxuY29uc3QgVVJMID0gcHJvY2Vzcy5lbnYuTU9OR09fVVJMID8/IFwibW9uZ29kYitzcnY6Ly9hZG1pbjpzSi5qMjJhWmVoRE04Zm5AY2x1c3RlcjAueHd5eW52OS5tb25nb2RiLm5ldC8/cmV0cnlXcml0ZXM9dHJ1ZSZ3PW1ham9yaXR5JmFwcE5hbWU9Q2x1c3RlcjBcIlxyXG5jb25zdCBQT1JUID0gcHJvY2Vzcy5lbnYuUE9SVCB8fCAzMDAwXHJcblxyXG5sZXQgY2xpZW50XHJcbmFzeW5jIGZ1bmN0aW9uIGNvbm5lY3RUb01vbmdvKCkge1xyXG4gIHRyeSB7XHJcbiAgICBpZiAoIWNsaWVudCkge1xyXG5cclxuICAgICAgY2xpZW50ID0gYXdhaXQgTW9uZ29DbGllbnQuY29ubmVjdChVUkwpXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGNsaWVudDtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIGNvbnNvbGUubG9nKGVycilcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdldE1vbmdvQ29sbGVjdGlvbihjb2xsZWN0aW9uTmFtZSwgZGJOYW1lID0gREVGQVVMVF9EQl9OQU1FKSB7XHJcbiAgY29uc3QgY2xpZW50ID0gYXdhaXQgY29ubmVjdFRvTW9uZ28oKVxyXG4gIHJldHVybiBjbGllbnQuZGIoZGJOYW1lKS5jb2xsZWN0aW9uKGNvbGxlY3Rpb25OYW1lKVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHsgZ2V0TW9uZ29Db2xsZWN0aW9uIH0iXSwibmFtZXMiOlsiTW9uZ29DbGllbnQiLCJyZXF1aXJlIiwiREVGQVVMVF9EQl9OQU1FIiwiVVJMIiwicHJvY2VzcyIsImVudiIsIk1PTkdPX1VSTCIsIlBPUlQiLCJjbGllbnQiLCJjb25uZWN0VG9Nb25nbyIsImNvbm5lY3QiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiZ2V0TW9uZ29Db2xsZWN0aW9uIiwiY29sbGVjdGlvbk5hbWUiLCJkYk5hbWUiLCJkYiIsImNvbGxlY3Rpb24iLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/data/mongodb.js\n");

/***/ }),

/***/ "(api)/./src/pages/data/signup.js":
/*!**********************************!*\
  !*** ./src/pages/data/signup.js ***!
  \**********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst { getMongoCollection } = __webpack_require__(/*! ./mongodb */ \"(api)/./src/pages/data/mongodb.js\");\nconst collectionName = \"signupform\";\nasync function findAccount(email) {\n    const collection = await getMongoCollection(collectionName);\n    const result = await collection.findOne({\n        email: {\n            $eq: email\n        }\n    });\n    return result;\n}\nasync function insertUserDataBase(email, password) {\n    const collection = await getMongoCollection(collectionName);\n    const result = await collection.insertOne({\n        email,\n        password\n    });\n}\nmodule.exports = {\n    findAccount,\n    insertUserDataBase\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvZGF0YS9zaWdudXAuanMiLCJtYXBwaW5ncyI6IjtBQUFBLE1BQU0sRUFBRUEsa0JBQWtCLEVBQUUsR0FBR0MsbUJBQU9BLENBQUM7QUFFdkMsTUFBTUMsaUJBQWlCO0FBRXZCLGVBQWVDLFlBQVlDLEtBQUs7SUFDNUIsTUFBTUMsYUFBYSxNQUFNTCxtQkFBbUJFO0lBQzVDLE1BQU1JLFNBQVMsTUFBTUQsV0FBV0UsT0FBTyxDQUFDO1FBQUVILE9BQU87WUFBRUksS0FBS0o7UUFBTTtJQUFFO0lBQ2hFLE9BQU9FO0FBQ1g7QUFFQSxlQUFlRyxtQkFBbUJMLEtBQUssRUFBQ00sUUFBUTtJQUM1QyxNQUFNTCxhQUFhLE1BQU1MLG1CQUFtQkU7SUFDNUMsTUFBTUksU0FBUyxNQUFNRCxXQUFXTSxTQUFTLENBQUM7UUFDdENQO1FBQ0FNO0lBQ0o7QUFDSjtBQUVBRSxPQUFPQyxPQUFPLEdBQUc7SUFBRVY7SUFBY007QUFBbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zaWdudXBmb3JtLy4vc3JjL3BhZ2VzL2RhdGEvc2lnbnVwLmpzP2RhOWIiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBnZXRNb25nb0NvbGxlY3Rpb24gfSA9IHJlcXVpcmUoJy4vbW9uZ29kYicpXHJcblxyXG5jb25zdCBjb2xsZWN0aW9uTmFtZSA9IFwic2lnbnVwZm9ybVwiXHJcblxyXG5hc3luYyBmdW5jdGlvbiBmaW5kQWNjb3VudChlbWFpbCkge1xyXG4gICAgY29uc3QgY29sbGVjdGlvbiA9IGF3YWl0IGdldE1vbmdvQ29sbGVjdGlvbihjb2xsZWN0aW9uTmFtZSk7XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb2xsZWN0aW9uLmZpbmRPbmUoeyBlbWFpbDogeyAkZXE6IGVtYWlsIH0gfSlcclxuICAgIHJldHVybiByZXN1bHRcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gaW5zZXJ0VXNlckRhdGFCYXNlKGVtYWlsLHBhc3N3b3JkKXtcclxuICAgIGNvbnN0IGNvbGxlY3Rpb24gPSBhd2FpdCBnZXRNb25nb0NvbGxlY3Rpb24oY29sbGVjdGlvbk5hbWUpXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb2xsZWN0aW9uLmluc2VydE9uZSh7XHJcbiAgICAgICAgZW1haWwsXHJcbiAgICAgICAgcGFzc3dvcmRcclxuICAgIH0pXHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0geyBmaW5kQWNjb3VudCAsIGluc2VydFVzZXJEYXRhQmFzZSB9XHJcblxyXG4iXSwibmFtZXMiOlsiZ2V0TW9uZ29Db2xsZWN0aW9uIiwicmVxdWlyZSIsImNvbGxlY3Rpb25OYW1lIiwiZmluZEFjY291bnQiLCJlbWFpbCIsImNvbGxlY3Rpb24iLCJyZXN1bHQiLCJmaW5kT25lIiwiJGVxIiwiaW5zZXJ0VXNlckRhdGFCYXNlIiwicGFzc3dvcmQiLCJpbnNlcnRPbmUiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/data/signup.js\n");

/***/ }),

/***/ "(api)/./src/pages/services/signup.js":
/*!**************************************!*\
  !*** ./src/pages/services/signup.js ***!
  \**************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst { findAccount, insertUserDataBase } = __webpack_require__(/*! ../data/signup */ \"(api)/./src/pages/data/signup.js\");\nasync function checkEmail(email) {\n    const account = await findAccount(email);\n    if (account) {\n        return account;\n    }\n    throw new Error(\"O utilizador n\\xe3o foi encontrado!\");\n}\nasync function checkEmailSignUp(email) {\n    const account = await findAccount(email);\n    if (!account) {\n        return null;\n    }\n}\nfunction checkPassword(password, confirmacaoPassword) {\n    return password === confirmacaoPassword;\n}\nasync function getId(email) {\n    const res = await findAccount(email);\n    return res._id.toString();\n}\nasync function createUser(email, password) {\n    await insertUserDataBase(email, password);\n}\nmodule.exports = {\n    checkEmail,\n    checkPassword,\n    getId,\n    createUser,\n    checkEmailSignUp\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvc2VydmljZXMvc2lnbnVwLmpzIiwibWFwcGluZ3MiOiI7QUFBQSxNQUFNLEVBQUVBLFdBQVcsRUFBRUMsa0JBQWtCLEVBQUUsR0FBR0MsbUJBQU9BLENBQUMsd0RBQWdCO0FBRXBFLGVBQWVDLFdBQVdDLEtBQUs7SUFDNUIsTUFBTUMsVUFBVSxNQUFNTCxZQUFZSTtJQUNsQyxJQUFHQyxTQUFRO1FBQ1IsT0FBT0E7SUFDVjtJQUNBLE1BQU0sSUFBSUMsTUFBTztBQUNwQjtBQUNBLGVBQWVDLGlCQUFpQkgsS0FBSztJQUNsQyxNQUFNQyxVQUFVLE1BQU1MLFlBQVlJO0lBRWxDLElBQUcsQ0FBQ0MsU0FBUTtRQUNULE9BQU87SUFDVjtBQUVIO0FBRUEsU0FBU0csY0FBY0MsUUFBUSxFQUFFQyxtQkFBbUI7SUFDOUMsT0FBT0QsYUFBYUM7QUFDMUI7QUFFQSxlQUFlQyxNQUFNUCxLQUFLO0lBQ3ZCLE1BQU1RLE1BQU0sTUFBTVosWUFBWUk7SUFDOUIsT0FBT1EsSUFBSUMsR0FBRyxDQUFDQyxRQUFRO0FBQzFCO0FBRUEsZUFBZUMsV0FBV1gsS0FBSyxFQUFFSyxRQUFRO0lBQ3RDLE1BQU1SLG1CQUFtQkcsT0FBTUs7QUFDbEM7QUFJQU8sT0FBT0MsT0FBTyxHQUFHO0lBQUVkO0lBQVlLO0lBQWdCRztJQUFRSTtJQUFhUjtBQUFnQiIsInNvdXJjZXMiOlsid2VicGFjazovL3NpZ251cGZvcm0vLi9zcmMvcGFnZXMvc2VydmljZXMvc2lnbnVwLmpzPzllMDUiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBmaW5kQWNjb3VudCwgaW5zZXJ0VXNlckRhdGFCYXNlIH0gPSByZXF1aXJlKFwiLi4vZGF0YS9zaWdudXBcIilcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGNoZWNrRW1haWwoZW1haWwpIHtcclxuICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IGZpbmRBY2NvdW50KGVtYWlsKVxyXG4gICBpZihhY2NvdW50KXtcclxuICAgICAgcmV0dXJuIGFjY291bnRcclxuICAgfVxyXG4gICB0aHJvdyBuZXcgRXJyb3IoIFwiTyB1dGlsaXphZG9yIG7Do28gZm9pIGVuY29udHJhZG8hXCIgKVxyXG59XHJcbmFzeW5jIGZ1bmN0aW9uIGNoZWNrRW1haWxTaWduVXAoZW1haWwpIHtcclxuICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IGZpbmRBY2NvdW50KGVtYWlsKVxyXG5cclxuICAgaWYoIWFjY291bnQpe1xyXG4gICAgICByZXR1cm4gbnVsbFxyXG4gICB9XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBjaGVja1Bhc3N3b3JkKHBhc3N3b3JkLCBjb25maXJtYWNhb1Bhc3N3b3JkKSB7XHJcbiAgICAgIHJldHVybiBwYXNzd29yZCA9PT0gY29uZmlybWFjYW9QYXNzd29yZFxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBnZXRJZChlbWFpbCl7XHJcbiAgIGNvbnN0IHJlcyA9IGF3YWl0IGZpbmRBY2NvdW50KGVtYWlsKVxyXG4gICByZXR1cm4gcmVzLl9pZC50b1N0cmluZygpXHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVVzZXIoZW1haWwsIHBhc3N3b3JkKXtcclxuICAgYXdhaXQgaW5zZXJ0VXNlckRhdGFCYXNlKGVtYWlsLHBhc3N3b3JkKVxyXG59XHJcblxyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0geyBjaGVja0VtYWlsLCBjaGVja1Bhc3N3b3JkICwgZ2V0SWQgLCBjcmVhdGVVc2VyICwgY2hlY2tFbWFpbFNpZ25VcH0iXSwibmFtZXMiOlsiZmluZEFjY291bnQiLCJpbnNlcnRVc2VyRGF0YUJhc2UiLCJyZXF1aXJlIiwiY2hlY2tFbWFpbCIsImVtYWlsIiwiYWNjb3VudCIsIkVycm9yIiwiY2hlY2tFbWFpbFNpZ25VcCIsImNoZWNrUGFzc3dvcmQiLCJwYXNzd29yZCIsImNvbmZpcm1hY2FvUGFzc3dvcmQiLCJnZXRJZCIsInJlcyIsIl9pZCIsInRvU3RyaW5nIiwiY3JlYXRlVXNlciIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/pages/services/signup.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2Fsignup&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cauth%5Csignup.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();